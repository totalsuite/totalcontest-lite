{"version":3,"sources":["../assets/src/scripts/frontend/validations.ts","../assets/src/scripts/frontend/behaviours/embed.ts","../assets/src/scripts/frontend/behaviours/ajax.ts","../assets/src/scripts/frontend/behaviours/submission-form.ts","../assets/src/scripts/frontend/behaviours/submissions-listing.ts","../assets/src/scripts/frontend/behaviours/scroll-overflow.ts","../assets/src/scripts/frontend/frontend.ts"],"names":[],"mappings":"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","file":"../frontend.js","sourcesContent":["namespace TotalContest {\r\n    jQuery['validator'].addMethod(\r\n        'minfilesize',\r\n        function (value, element, params) {\r\n            return this.optional(element) || (params[1] && params[1] < (element.files[0].size / 1024));\r\n        }\r\n    );\r\n\r\n    jQuery['validator'].addMethod(\r\n        'maxfilesize',\r\n        function (value, element, params) {\r\n            return this.optional(element) || (params[1] && params[1] > (element.files[0].size / 1024));\r\n        }\r\n    );\r\n\r\n    jQuery['validator'].addMethod(\r\n        'formats',\r\n        function (value, element, params) {\r\n            return this.optional(element) || (params[1] && params[1].indexOf(element.files[0].type) !== -1);\r\n        }\r\n    );\r\n\r\n    jQuery(function () {\r\n        var messages = {};\r\n        jQuery.each(window['jqValidationMessages'], function (rule, message) {\r\n            messages[rule] = function (validation, element) {\r\n                return jQuery['validator'].format(\r\n                    message\r\n                        .replace('{{label}}', element.type === 'file' ? '' : jQuery(element).siblings('label').text())\r\n                        .replace('%d', '{0}')\r\n                        .replace('%s', '{0}'),\r\n                    validation\r\n                );\r\n            };\r\n        });\r\n\r\n        jQuery.extend(jQuery['validator'].messages, messages);\r\n    });\r\n}","namespace TotalContest {\r\n    import Contest = TotalContest.Contest;\r\n\r\n    export class EmbedResizingBehaviour {\r\n        public listener;\r\n\r\n        constructor(public contest: Contest) {\r\n            this.listener = (event) => this.receiveRequest(event);\r\n            window.addEventListener(\"message\", this.listener, false);\r\n        }\r\n\r\n        destroy() {\r\n            window.removeEventListener(\"message\", this.listener);\r\n        }\r\n\r\n        postHeight() {\r\n            top.postMessage({totalcontest: {id: this.contest.id, action: 'resizeHeight', value: jQuery(document.body).height()}}, '*');\r\n        }\r\n\r\n        receiveRequest(event) {\r\n            if (event.data.totalcontest && event.data.totalcontest.id === this.contest.id && event.data.totalcontest.action === 'requestHeight') {\r\n                this.postHeight();\r\n            }\r\n        }\r\n    }\r\n}","namespace TotalContest {\r\n    import Contest = TotalContest.Contest;\r\n\r\n    export class AjaxBehaviour {\r\n        constructor(public contest: Contest) {\r\n            this.contest.on('state', (event, state) => {\r\n                if (state && state.ajax) {\r\n                    this.load(state.ajax);\r\n                }\r\n            });\r\n\r\n            contest.element.find('a[totalcontest-ajax-url]').on('click', (event) => {\r\n                let ajaxUrl = jQuery(event.currentTarget).attr('totalcontest-ajax-url');\r\n                if (ajaxUrl) {\r\n                    window.history.pushState({ajax: ajaxUrl}, null, event.currentTarget.href);\r\n                    this.load(ajaxUrl);\r\n                }\r\n                event.preventDefault();\r\n            });\r\n\r\n            contest.element.find('option[totalcontest-ajax-url]').closest('select').on('change', (event) => {\r\n                let selected = jQuery(event.currentTarget).find('option:selected');\r\n                let ajaxUrl = selected.attr('totalcontest-ajax-url');\r\n                if (ajaxUrl) {\r\n                    window.history.pushState({ajax: ajaxUrl}, null, selected.val());\r\n                    this.load(ajaxUrl);\r\n                }\r\n                event.preventDefault();\r\n            });\r\n\r\n            contest.element.find('form').on('submit', (event) => {\r\n                event.preventDefault();\r\n                if (!jQuery.fn.valid || jQuery(event.currentTarget).valid()) {\r\n                    this.load(contest.config.ajaxEndpoint, new FormData(event.currentTarget), 'POST');\r\n                }\r\n            });\r\n        }\r\n\r\n        load(url, data = {}, method = 'GET') {\r\n            this.contest.element.css('pointer-events', 'none').fadeTo(500, 0.1, () => {\r\n                jQuery.ajax({\r\n                    url: url,\r\n                    data: data,\r\n                    processData: method == 'POST' ? false : true,\r\n                    contentType: false,\r\n                    type: method,\r\n                    success: (response) => {\r\n                        let $contest = jQuery(response).hide();\r\n                        this.contest.element.replaceWith($contest);\r\n                        $contest.fadeIn();\r\n\r\n                        new TotalContest.Contest($contest, true);\r\n                    }\r\n                });\r\n            });\r\n        }\r\n\r\n    }\r\n}\r\n","namespace TotalContest {\r\n    import Contest = TotalContest.Contest;\r\n\r\n    export class UploadedFile {\r\n        public URL = window.URL || window['webkitURL'];\r\n\r\n        constructor(private originalFile: any) {\r\n\r\n        }\r\n\r\n        getDimensions(callback) {\r\n            var image: any = document.createElement('img');\r\n            image.onload = (event) => {\r\n                this.originalFile.dimensions = image.width + 'x' + image.height;\r\n                callback(this.originalFile.dimensions);\r\n            };\r\n            image.src = this.getObjectURL();\r\n        }\r\n\r\n        getDuration(callback) {\r\n            var media: any = document.createElement(this.getType());\r\n            media.src = this.getObjectURL();\r\n            media.ondurationchange = () => {\r\n                this.originalFile.duration = new Date(media['duration'] * 1024).toISOString().substr(14, 5);\r\n                callback(this.originalFile.duration);\r\n            };\r\n        }\r\n\r\n        getObjectURL() {\r\n            return URL.createObjectURL(this.originalFile);\r\n        }\r\n\r\n        getPreview(callback) {\r\n            if (this.getType() === 'image') {\r\n                this.getDimensions(() => callback(`${this.originalFile.name} - ${this.originalFile.dimensions} (${this.getSize()})`));\r\n            } else {\r\n                this.getDuration(() => callback(`${this.originalFile.name} - ${this.originalFile.duration} (${this.getSize()})`));\r\n            }\r\n        }\r\n\r\n        getSize() {\r\n            return Utils.getFileSizeForHuman(this.originalFile.size);\r\n        }\r\n\r\n        getType() {\r\n            return this.originalFile.type.split('/')[0];\r\n        }\r\n    }\r\n\r\n    export class MaxLengthValidation {\r\n        public counter;\r\n        public maxlength = 0;\r\n\r\n        constructor(public element) {\r\n            this.maxlength = element.attr('maxlength');\r\n            this.counter = jQuery(`<div style=\"float: right;margin-top: 0.5em;\"></div>`);\r\n            element.after(this.counter);\r\n\r\n            element.on('change keypress keyup keydown', () => this.updateCounter());\r\n            this.updateCounter();\r\n        }\r\n\r\n        updateCounter() {\r\n            this.counter.text(window['jqValidationMessages']['left'].replace('%d', this.maxlength - this.element.val().length))\r\n        }\r\n    }\r\n\r\n    export class SubmissionFormBehaviour {\r\n        public fileInputsElements;\r\n        public formElement;\r\n        public formLoading;\r\n\r\n        constructor(public contest: Contest) {\r\n            this.formElement = contest.element.find('.totalcontest-participate-form');\r\n            this.formLoading = contest.element.find('.totalcontest-form-loading');\r\n            this.fileInputsElements = contest.element.find('.totalcontest-form-field-type-file');\r\n\r\n            this.formElement.validate({\r\n                submitHandler: (form, event) => {\r\n                    this.showProgress(form, event);\r\n                    if(! this.contest.config['behaviours']['ajax']) {\r\n                        form.submit();\r\n                    }\r\n                },\r\n                onclick: true,\r\n\r\n                errorPlacement: function (error, element) {\r\n                    element.siblings(\".totalcontest-form-field-errors\").html('');\r\n                    error.appendTo(element.siblings(\".totalcontest-form-field-errors\"));\r\n                }\r\n            });\r\n            this.formElement.attr('novalidate', 'novalidate');\r\n            this.fileInputsElements.each((index, element) => {\r\n                element = jQuery(element);\r\n                let fileInputElement = element.find('input');\r\n                let fileLabelElement = element.find('label');\r\n\r\n                fileInputElement.on('change', (event) => this.handleFile(event, fileInputElement, fileLabelElement));\r\n                fileLabelElement.data('original-text', fileLabelElement.text());\r\n            });\r\n\r\n            contest.element.find('[maxlength]:not([type=\"file\"])').each(function () {\r\n                new MaxLengthValidation(jQuery(this));\r\n            });\r\n\r\n            contest.element.find('[maxlength][type=\"file\"],[minlength][type=\"file\"]').each(function () {\r\n                let $field = jQuery(this);\r\n                let rules: any = {};\r\n                let minLength = Number($field.attr('minlength') || 0);\r\n                let maxLength = Number($field.attr('maxlength') || 0);\r\n                if (minLength > 0) {\r\n                    rules.minfilesize = [Utils.getFileSizeForHuman(minLength * 1024), minLength];\r\n                }\r\n                if (maxLength > 0) {\r\n                    rules.maxfilesize = [Utils.getFileSizeForHuman(maxLength * 1024), maxLength];\r\n                }\r\n                $field.rules('add', rules);\r\n                $field.rules('remove', 'minlength maxlength');\r\n                $field.removeAttr('minlength');\r\n                $field.removeAttr('maxlength');\r\n            });\r\n\r\n            contest.element.find('[formats][type=\"file\"]').each(function () {\r\n                let $field = jQuery(this);\r\n                $field.rules('add', {\r\n                    formats: [$field.attr('formats'), $field.attr('accept').split(',')]\r\n                });\r\n            });\r\n\r\n            contest.element.find('[required-if-empty]').each(function () {\r\n                let $field = jQuery(this);\r\n                let $remoteField = jQuery($field.attr('required-if-empty'));\r\n                $remoteField.on('change', function () {\r\n                    $field.prop('required', !Boolean($remoteField.val()));\r\n                });\r\n            });\r\n        }\r\n\r\n        handleFile(event: any, input, label) {\r\n            if (event.target.files[0]) {\r\n                var file = new UploadedFile(event.target.files[0]);\r\n                file.getPreview((content) => label.text(content));\r\n            } else {\r\n                label.text(label.data('original-text'));\r\n            }\r\n\r\n            input.blur();\r\n        }\r\n\r\n        showProgress(form, event) {\r\n            this.formElement.find('[type=\"submit\"]').prop('disabled', true);\r\n            this.formLoading.addClass('active');\r\n\r\n            jQuery('body').animate({scrollTop: this.formLoading.find('svg').offset().top - 250});\r\n            setTimeout(() => this.contest.element.finish().fadeTo(0, 1), 1);\r\n        }\r\n    }\r\n}","namespace TotalContest {\r\n    import Contest = TotalContest.Contest;\r\n\r\n    export class SubmissionsListingBehaviour {\r\n        public layoutTogglers;\r\n        public submissions;\r\n\r\n        constructor(public contest: Contest) {\r\n            this.submissions = contest.element.find('[totalcontest-submissions]');\r\n            this.layoutTogglers = contest.element.find('[totalcontest-submissions-toggle-layout]');\r\n            this.layoutTogglers.on(\r\n                'click',\r\n                (event) => this.toggleLayout(\r\n                    event.currentTarget.getAttribute('totalcontest-submissions-toggle-layout')\r\n                )\r\n            );\r\n        }\r\n\r\n        toggleLayout(layout) {\r\n            this.layoutTogglers.removeClass('totalcontest-submissions-toolbar-active');\r\n            this.layoutTogglers.filter(`[totalcontest-submissions-toggle-layout=\"${layout}\"]`).addClass('totalcontest-submissions-toolbar-active');\r\n            this.submissions.removeClass('totalcontest-submissions-items-layout-grid totalcontest-submissions-items-layout-list');\r\n            this.submissions.addClass(`totalcontest-submissions-items-layout-${layout}`);\r\n        }\r\n    }\r\n}","namespace TotalContest {\r\n    import Contest = TotalContest.Contest;\r\n\r\n    export class ScrollOverflowBehaviour {\r\n        public scrollables;\r\n\r\n        constructor(public contest: Contest) {\r\n            this.scrollables = contest.element.find('[totalcontest-mobile-scrollable]');\r\n            this.scrollables.on(\r\n                'scroll',\r\n                (event) => this.receiveScroll(event)\r\n            );\r\n            this.scrollables.each((index, scrollable) => {\r\n                var $scrollable = jQuery(scrollable);\r\n                $scrollable.scrollLeft($scrollable.find('.is-active').first().offset().left);\r\n            })\r\n        }\r\n\r\n        destroy() {\r\n            this.scrollables.off('scroll');\r\n        }\r\n\r\n        receiveScroll(event) {\r\n            var $target = jQuery(event.target);\r\n            var maxWidth = $target.prop('scrollWidth') - $target.prop('clientWidth');\r\n            if (Math.round($target.scrollLeft()) >= maxWidth) {\r\n                $target.parent().addClass('is-scroll-finished');\r\n            } else {\r\n                $target.parent().removeClass('is-scroll-finished');\r\n            }\r\n        }\r\n    }\r\n}","///<reference path=\"../../../../build/typings/index.d.ts\" />\r\n///<reference path=\"validations.ts\" />\r\n///<reference path=\"behaviours/embed.ts\" />\r\n///<reference path=\"behaviours/ajax.ts\" />\r\n///<reference path=\"behaviours/submission-form.ts\" />\r\n///<reference path=\"behaviours/submissions-listing.ts\" />\r\n///<reference path=\"behaviours/scroll-overflow.ts\" />\r\n\r\nnamespace TotalContest {\r\n    export var Contests = {};\r\n\r\n    export class Contest {\r\n        public behaviours: any = {};\r\n        public config: any = {};\r\n        public id;\r\n        public screen;\r\n        public test: JQueryAjaxSettings;\r\n\r\n        constructor(public element, public viaAjax = false) {\r\n            this.id = element.attr('totalcontest');\r\n            this.config = JSON.parse(element.find('[totalcontest-config]').text());\r\n            this.screen = element.attr('totalcontest-screen');\r\n\r\n            if (TotalContest.Contests[this.id]) {\r\n                // Destroy the old instance\r\n                TotalContest.Contests[this.id].destroy();\r\n                element.fadeIn();\r\n            }\r\n\r\n            // Save instance for future usage\r\n            TotalContest.Contests[this.id] = this;\r\n            element.data('contest', TotalContest.Contests[this.id]);\r\n\r\n            if (this.screen === 'contest.participate') {\r\n                // Submission form\r\n                this.behaviours['submissionForm'] = new SubmissionFormBehaviour(this);\r\n            } else if (this.screen == 'contest.submissions') {\r\n                // Submission listing\r\n                this.behaviours['submissionsListing'] = new SubmissionsListingBehaviour(this);\r\n            }\r\n\r\n\r\n            // Ajax\r\n            if (this.config['behaviours']['async'] || this.config['behaviours']['ajax']) {\r\n                this.behaviours['ajax'] = new AjaxBehaviour(this);\r\n            }\r\n\r\n            // Async\r\n            if (this.config['behaviours']['async']) {\r\n                this.behaviours['ajax'].load(element.attr('totalcontest-ajax-url'));\r\n            }\r\n\r\n            // Embed resizing\r\n            if (window.top !== window.self) {\r\n                this.behaviours['embed'] = new EmbedResizingBehaviour(this);\r\n                this.behaviours['embed'].postHeight();\r\n            }\r\n\r\n            // Scroll\r\n            // this.behaviours['scrollOverflow'] = new ScrollOverflowBehaviour(this);\r\n        }\r\n\r\n        destroy() {\r\n            jQuery.each(this.behaviours, function (id, behaviour) {\r\n                if (behaviour.destroy) {\r\n                    behaviour.destroy();\r\n                }\r\n            });\r\n            this.element.remove();\r\n        }\r\n\r\n        isViaAjax() {\r\n            return this.viaAjax;\r\n        }\r\n\r\n        off(event, callback) {\r\n            this.element.off(event, callback);\r\n        }\r\n\r\n        on(event, callback) {\r\n            this.element.on(event, callback);\r\n        }\r\n\r\n    }\r\n\r\n    export class Utils {\r\n        public static getFileSizeForHuman(sizeInBytes) {\r\n            return ((sizeInBytes / Math.pow(1024, Math.floor(Math.log(sizeInBytes) / Math.log(1024)))) || 0).toFixed(2) + ' ' + ' KMGTP'.charAt(Math.floor(Math.log(sizeInBytes) / Math.log(1024))) + 'B'\r\n        }\r\n\r\n        public static getUrlParameters(url) {\r\n            let params = {};\r\n            window['decodeURIComponent'](url).replace(/[?&]+([^=&]+)=([^&]*)/gi, function (search, key, value) {\r\n                params[key] = value;\r\n            });\r\n\r\n            return params;\r\n        };\r\n\r\n        public static refreshTinyMCE() {\r\n            if (window['tinymce']) {\r\n                setTimeout(\r\n                    () => {\r\n                        for (let id in window['tinyMCEPreInit'].mceInit) {\r\n                            window['tinymce'].remove();\r\n                            var init = window['tinyMCEPreInit'].mceInit[id];\r\n                            var $wrap = window['tinymce'].$(`#wp-${id}-wrap`);\r\n                            if (($wrap.hasClass('tmce-active') || !window['tinyMCEPreInit'].qtInit.hasOwnProperty(id)) && !init.wp_skip_init) {\r\n                                window['tinymce'].init(init);\r\n                            }\r\n                        }\r\n                    },\r\n                    100\r\n                );\r\n            }\r\n        }\r\n    }\r\n\r\n    jQuery(function ($: any) {\r\n        $('[totalcontest]').each(function () {\r\n            new TotalContest.Contest($(this));\r\n        });\r\n\r\n        jQuery(window).on('popstate', (event: any) => {\r\n            $('[totalcontest]').triggerHandler('state', [event.originalEvent.state]);\r\n\r\n            return false;\r\n        });\r\n    });\r\n}\r\n"]}